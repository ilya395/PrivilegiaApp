(window.webpackJsonp=window.webpackJsonp||[]).push([[6,7,9],{133:function(e,n,t){"use strict";t.r(n),function(e,o){t.d(n,"formFromAkcii",(function(){return a}));var i=t(132),a=function(n){console.log("form is activated");var t=n.querySelector('input[name="title"]')||"Форма обратной связи",a=n.querySelector('input[name="name"]'),r=n.querySelector('input[name="phone"]'),l=n.querySelector("button"),c=e(".phonemask");function s(){event.preventDefault();var e,l,c="action=action_fetch&phone=".concat(r.value,"&title=").concat(t.value);null!=r.value&&null!=r.value&&""!=r.value&&1==function(e){if(console.log(e),""!=e&&null!=e&&"undefibed"!=e){for(var n=[0,1,2,3,4,5,6,7,8,9],t=e.split(""),o=0,i=0;i<t.length;i++)for(var a=0;a<n.length;a++)t[i]==n[a]&&o++;var r=!1,l=["+7(911)111-11-11","+7(922)222-22-22","+7(933)333-33-33","+7(944)444-44-44","+7(955)555-55-55","+7(966)666-66-66","+7(977)777-77-77","+7(988)888-88-88","+7(999)999-99-99"];for(i=0;i<l.length;i++)e==l[i]&&(r=!0);return 11==o&&0==r}}(r.value)&&1==function(e){var n=!1;""!=e&&e.length<25&&(n=!0);return n}(a.value)&&(e=c,l=i.resolve(o,"./listener.php"),console.log(l),fetch(l,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}).then((function(e){!function(){if(n.querySelector(".thnk-block"))t();else{var e=document.createElement("div");e.classList.add("thnk-block"),n.append(e),e.innerHTML="\n                <h1>Спасибо!</h1>\n                <p>Мы свяжемся с Вами в ближайшее время</p>            \n            ",t()}function t(){var e,t=n.querySelector(".thnk-block");t.classList.add("vkl"),e=function(){t.classList.remove("transparent"),t.classList.add("movie")},window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e()}))})),setTimeout((function(){t.addEventListener("transitionend",(function e(){t.classList.remove("vkl"),t.removeEventListener("transitionend",e)})),t.classList.remove("movie"),t.classList.add("transparent")}),3e3)}}(),console.log("Сообщение отправлено методом fetch"),console.log(e)})).then((function(){a.value="",r.value=""})).catch((function(e){console.error(e)})))}return Inputmask.extendDefinitions({f:{validator:"[9().+/ ]"}}),c.length&&c.inputmask({mask:"+7(f99)999-99-99"}),{listenToClick:function(){l.addEventListener("click",s)}}}}.call(this,t(23),"/")},135:function(e,n,t){"use strict";t.r(n),function(e){t.d(n,"complexModal",(function(){return i})),t.d(n,"hodStrModal",(function(){return a}));var o=t(133),i=function(n,i){var a=n,r=i;function l(e){var n=document.getElementById("complex-modal").querySelector(".complex-modal__content");n.innerHTML="";var t=+e.getAttribute("id"),o=r.find((function(e){if(e.id==t)return e})),i=document.createElement("div");i.classList.add("top-image"),n.append(i),i.innerHTML='<img src="'.concat(o.preview,'">');var a=document.createElement("div");a.classList.add("bottom-text"),n.append(a),a.innerHTML='\n        <div class="label"></div>\n        <h2>'.concat(o.title,"</h2>\n        ").concat(o.content,"\n        ")}function c(){if(document.getElementById("complex-modal")){var e=document.getElementById("complex-modal").querySelector("form");console.log(e),Object(o.formFromAkcii)(e).listenToClick()}else console.log("i dont see form")}return{open:function(){if(document.querySelector(".modal.complex-modal"))e(".overlay .complex-modal").css("display","block"),e(".overlay").fadeIn(),l(a),c();else{var n=document.querySelector(".overlay");t.e(1).then(t.bind(null,134)).then((function(e){return n.insertAdjacentHTML("afterbegin",e.tpl.content()),e})).then((function(e){e.tpl.func()})).then((function(){l(a)})).then((function(){c()}))}},close:function(){e(".overlay").fadeOut(),e(".overlay .modal").fadeOut()}}},a=function(n){var o=n;document.querySelector(".modal.complex-modal");function i(e){var n=document.querySelector(".modal.complex-modal .top-image");n.innerHTML="";var t=document.createElement("div");t.classList.add("gallery-wr","gallery-imgs-row"),n.append(t);var o,i="";for(var a in e.gallery)i+=(o=e.gallery[a],'\n            <a href="'.concat(o,'" data-fancybox="gallery">\n                <img src="').concat(o,'" >\n            </a>                    \n            '));document.querySelector(".complex-modal .top-image").style.height="auto",t.innerHTML=i;var r=document.querySelector(".modal.complex-modal .bottom-text");r.innerHTML=e.content,r.insertAdjacentHTML("afterbegin","<h3>".concat(e.pagetitle,"</h3")),r.insertAdjacentHTML("afterbegin",'<div class="label">'.concat(e.date,"</div>"))}return{open:function(){if(document.querySelector(".modal.complex-modal"))e(".overlay .complex-modal").css("display","block"),e(".overlay").fadeIn(),i(o);else{var n=document.querySelector(".overlay");t.e(1).then(t.bind(null,134)).then((function(e){return n.insertAdjacentHTML("afterbegin",e.tpl.content()),e})).then((function(e){e.tpl.func()})).then((function(){i(o)}))}},close:function(){e(".overlay").fadeOut(),e(".overlay .modal").fadeOut()}}}}.call(this,t(23))},288:function(e,n,t){"use strict";t.r(n),function(e,o){t.d(n,"tpl",(function(){return c}));var i=t(135);function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,n){if(!e)return;if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,n)}(e))){var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,a=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(l)throw i}}}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var l=t(132),c={content:function(){return'\n    <section class="hod-str inner-block">\n        <div class="container">\n            <h1>Ход строительства</h1>\n            <div class="scale-wr">\n                <div class="top">\n                    <div class="title">Начало строительства<br>4 квартал 2018</div>\n                    <div class="title">Окончание строительства<br>4 квартал 2021</div>\n                </div>\n                <div class="scale-wh">\n                    <div class="scale-act"><span>40%</span></div>\n                </div>\n            </div>\n            <div class="hod-s-sl-wrapper">\n                <div class="hod-s-sl-over">\n                    <ul class="hod-s-sl">\n                        <li>\n                            <img data-img-src="[[+image_absolute]]" src="">\n                            <a href="#" class="mask">\n                                <div class="date">[[+publishedon:strtotime:dateRU]]</div>\n                                <p>[[+pagetitle]]</p>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                <div class="arrow left desktop"><img src="temps/img/arrow-l.png"></div>\n                <div class="arrow right desktop"><img src="temps/img/arrow-r.png"></div>\n            </div>\n        </div>\n    </section>\n    '},func:function(){console.log("контент модуля активирован!"),document.querySelector(".hod-str").classList.add("visible");var n=[];function t(e,n){return e["time-stamp"]>n["time-stamp"]?1:e["time-stamp"]==n["time-stamp"]?0:e["time-stamp"]<n["time-stamp"]?-1:void 0}!function(){function r(e){return console.log(e),'\n            <li data-id="'.concat(e.id,'">\n                <img data-img-src="').concat(e.preview,'" src="').concat(e.preview,'">\n                <a href="/').concat(e.alias,'" class="mask">\n                    <div class="date">').concat(e.date,"</div>\n                    <p>").concat(e.pagetitle,"</p>\n                </a>\n            </li>            \n            ")}var c=l.resolve(o,"./data_hodStr.json");console.log(c);var s=document.querySelector(".hod-s-sl-wrapper .hod-s-sl-over");window.matchMedia("(max-width: 501px)").matches?s.classList.add("mobile"):s.classList.add("desktop");var d=s.querySelector(".hod-s-sl");fetch(c).then((function(e){return e.json()})).then((function(e){!function(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;console.log(e);var l,c=[],s=a(e);try{for(s.s();!(l=s.n()).done;){var d=l.value;c.push(d)}}catch(e){s.e(e)}finally{s.f()}c.sort(t),n=c;var u="";if(window.matchMedia("(max-width: 501px)").matches)u=r(e[0]);else for(var f=0;f<i;f++)u+=r(e[f]);o.innerHTML=u}(e,d,10)})).then((function(){new function(e){console.log("SuperSlider1 start!");var n,t,o,i,a=e.uls,r=e.lefts,l=e.rights;t=a.find("li").length,n=parseInt(a.find("li").css("width"))+parseInt(a.find("li").css("margin-right")),t<=4?(r.css("display","none"),l.css("display","none")):a.find("li:first-child").addClass("active"),l.click((function(){(o=a.find(".active").index())==t-5?(a.animate({marginLeft:0},700),a.find("li").siblings().removeClass("active"),a.find("li").eq(0).addClass("active")):(i=parseInt(a.css("margin-left")),a.animate({marginLeft:i-n},700),a.find("li").siblings().removeClass("active"),a.find("li").eq(o+1).addClass("active"))})),r.click((function(){0===(o=a.find(".active").index())?(a.animate({marginLeft:-n*(t-5)},700),a.find("li").siblings().removeClass("active"),a.find("li").eq(t-5).addClass("active")):(i=parseInt(a.css("margin-left")),a.animate({marginLeft:i+n},700),a.find("li").siblings().removeClass("active"),a.find("li").eq(o-1).addClass("active"))}))}({uls:e(".hod-s-sl-wrapper .hod-s-sl"),lefts:e(".hod-s-sl-wrapper .left"),rights:e(".hod-s-sl-wrapper .right")})})).then((function(){!function(){var e=n;function t(){event.preventDefault();var n=+this.dataset.id,t=e.find((function(e){if(e.id===n)return e}));Object(i.hodStrModal)(t).open()}document.querySelectorAll(".hod-s-sl li").forEach((function(e){e.addEventListener("click",t)}))}()}))}()}}}.call(this,t(23),"/")}}]);