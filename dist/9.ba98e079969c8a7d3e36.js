(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{133:function(e,n,t){"use strict";t.r(n),function(e,o){t.d(n,"formFromAkcii",(function(){return a}));var i=t(132),a=function(n){console.log("form is activated");var t=n.querySelector('input[name="title"]')||"Форма обратной связи",a=n.querySelector('input[name="name"]'),r=n.querySelector('input[name="phone"]'),l=n.querySelector("button"),c=e(".phonemask");function s(){event.preventDefault();var e,l,c="action=action_fetch&phone=".concat(r.value,"&title=").concat(t.value);null!=r.value&&null!=r.value&&""!=r.value&&1==function(e){if(console.log(e),""!=e&&null!=e&&"undefibed"!=e){for(var n=[0,1,2,3,4,5,6,7,8,9],t=e.split(""),o=0,i=0;i<t.length;i++)for(var a=0;a<n.length;a++)t[i]==n[a]&&o++;var r=!1,l=["+7(911)111-11-11","+7(922)222-22-22","+7(933)333-33-33","+7(944)444-44-44","+7(955)555-55-55","+7(966)666-66-66","+7(977)777-77-77","+7(988)888-88-88","+7(999)999-99-99"];for(i=0;i<l.length;i++)e==l[i]&&(r=!0);return 11==o&&0==r}}(r.value)&&1==function(e){var n=!1;""!=e&&e.length<25&&(n=!0);return n}(a.value)&&(e=c,l=i.resolve(o,"./listener.php"),console.log(l),fetch(l,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e}).then((function(e){!function(){if(n.querySelector(".thnk-block"))t();else{var e=document.createElement("div");e.classList.add("thnk-block"),n.append(e),e.innerHTML="\n                <h1>Спасибо!</h1>\n                <p>Мы свяжемся с Вами в ближайшее время</p>            \n            ",t()}function t(){var e,t=n.querySelector(".thnk-block");t.classList.add("vkl"),e=function(){t.classList.remove("transparent"),t.classList.add("movie")},window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e()}))})),setTimeout((function(){t.addEventListener("transitionend",(function e(){t.classList.remove("vkl"),t.removeEventListener("transitionend",e)})),t.classList.remove("movie"),t.classList.add("transparent")}),3e3)}}(),console.log("Сообщение отправлено методом fetch"),console.log(e)})).then((function(){a.value="",r.value=""})).catch((function(e){console.error(e)})))}return Inputmask.extendDefinitions({f:{validator:"[9().+/ ]"}}),c.length&&c.inputmask({mask:"+7(f99)999-99-99"}),{listenToClick:function(){l.addEventListener("click",s)}}}}.call(this,t(23),"/")}}]);